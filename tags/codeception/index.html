<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Codeception | YT Por</title>
<meta name=keywords content><meta name=description content><meta name=author content><link rel=canonical href=https://www.ytpor.com/tags/codeception/><link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><link rel=icon href=https://www.ytpor.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.ytpor.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.ytpor.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.ytpor.com/apple-touch-icon.png><link rel=mask-icon href=https://www.ytpor.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://www.ytpor.com/tags/codeception/index.xml><link rel=alternate hreflang=en href=https://www.ytpor.com/tags/codeception/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-3V2PB7JNZW"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3V2PB7JNZW")}</script><meta property="og:title" content="Codeception"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://www.ytpor.com/tags/codeception/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Codeception"><meta name=twitter:description content><script async src="https://www.googletagmanager.com/gtag/js?id=G-3V2PB7JNZW"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3V2PB7JNZW")}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.ytpor.com/ accesskey=h title="YT Por (Alt + H)">YT Por</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://www.ytpor.com/about/ title=About><span>About</span></a></li><li><a href=https://www.ytpor.com/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://www.ytpor.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://www.ytpor.com/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Codeception</h1></header><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://upload.wikimedia.org/wikipedia/en/6/6b/Yii-logo-transparent.png alt=Yii></figure><header class=entry-header><h2>Yii 2 Codeception Fixtures Gotcha</h2></header><div class=entry-content><p>We use MongoDB (important point) with our Yii 2 applicaton.
While setting up our API test fixtures in our Cest file, $I->grabFixture was not able to find the data we wanted eventhough we have defined it within the dataFile.
[yii\base\ErrorException] Trying to get property 'client_id' of non-object Here’s what the dataFile looks like.
&lt;?php // This doesn't work. return [ 'client_one' => [ 'client_id' => 'mytestclient', ], ]; After some experimentation, we’ve found that we need to set the _id within the dataFile in order to get $I->grabFixture to work properly....</p></div><footer class=entry-footer>&lt;span title='2021-07-17 13:00:00.017 +0800 +0800'>July 17, 2021&lt;/span></footer><a class=entry-link aria-label="post link to Yii 2 Codeception Fixtures Gotcha" href=https://www.ytpor.com/2021/07/yii-2-codeception-fixtures-gotcha.html></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://upload.wikimedia.org/wikipedia/en/6/6b/Yii-logo-transparent.png alt=Yii></figure><header class=entry-header><h2>Yii 2 Codeception API Test</h2></header><div class=entry-content><p>My API uses the Yii2 advanced template. It uses symfony/dotenv to read the .env. The .env is loaded in all the configurations.
$dotenv = new Symfony\Component\Dotenv\Dotenv; $dotenv->load(__DIR__ . '/../../.env'); While running the Codeception api test, I came across this error.
[PHPUnit\Framework\Exception] Undefined index: HOST at ../common/config/main-local.php:7 After much digging around, I’ve realized that I need to load Symfony\Component\Dotenv\Dotenv in common/config/codeception-local.php Thus, I have updated that file in the environment folder, and reran php init....</p></div><footer class=entry-footer>&lt;span title='2021-06-30 21:00:00.016 +0800 +0800'>June 30, 2021&lt;/span></footer><a class=entry-link aria-label="post link to Yii 2 Codeception API Test" href=https://www.ytpor.com/2021/06/yii-2-codeception-api-test.html></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://upload.wikimedia.org/wikipedia/en/6/6b/Yii-logo-transparent.png alt=Yii></figure><header class=entry-header><h2>Testing Yii with Codeception</h2></header><div class=entry-content><p>We have an application written in Yii. Up til this point, it has been manually tested. Since it’s more efficient to automate the testing of this application, we have decided to set up Codeception to assist us with this task.
Set up was easy and straight forward - this said after spending countless hours understanding the correct way to set it up.
To illustrate the set up process, we’ll create a skeleton Yii app....</p></div><footer class=entry-footer>&lt;span title='2016-02-02 18:19:00.001 +0800 +0800'>February 2, 2016&lt;/span></footer><a class=entry-link aria-label="post link to Testing Yii with Codeception" href=https://www.ytpor.com/2016/02/testing-yii-with-codeception.html></a></article></main><footer class=footer><span>&copy; 2024 <a href=https://www.ytpor.com/>YT Por</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>